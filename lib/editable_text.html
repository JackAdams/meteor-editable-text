<template name="editableText">
  {{> editable_text_widget context=context collection=collection field=field value=value textarea=textarea wysiwyg=wysiwyg acceptEmpty=acceptEmpty removeEmpty=removeEmpty eventType=eventType type=type objectTypeText=objectTypeText class=class inputClass=inputClass autoInsert=autoInsert onAutoInsert=onAutoInsert wysiwygStyle=wysiwygStyle style=style inputStyle=inputStyle substitute=substitute title=title userCanEdit=userCanEdit useTransaction=useTransaction executeAfter=executeAfter executeBefore=executeBefore placeholder=placeholder}}
</template>

<template name="editable_text_widget"> 
  {{#if editing}}
    {{#if textarea}}
      <textarea class="text-area-edit {{inputClass}}" placeholder="{{placeholder}}" title="Hold SHIFT and press ENTER for a new line" style="{{inputStyle}}">{{value}}</textarea>
    {{else}}
      {{#if isWysiwyg}}
        <div class="wysiwyg-container">
          {{> wysiwyg}}
          <div class="wysiwyg {{wysiwygClass}}" style="{{wysiwygStyle}}">{{wysiwygContent}}</div>
        </div>
      {{else}}
        <input class="wide-text-edit {{inputClass}}" type="text" value="{{inputValue}}" placeholder="{{placeholder}}" style="{{inputStyle}}" />
      {{/if}}
    {{/if}}
  {{else}}
    {{#if canEditText}}
      {{#if substitute}}
        <span title="{{title}}" class="editable-text {{class}} et-{{context._id}}">{{substitute}}</span>
      {{else}}
        {{#if isWysiwyg}}
          <div class="wysiwyg-content"><div class="editable-text {{class}} et-{{context._id}}" title="{{title}}" style="{{style}}">{{wysiwygContent}}</div></div>
        {{else}}
          <span class="editable-text {{class}} et-{{context._id}}" title="{{title}}">{{content}}</span>
        {{/if}}
      {{/if}}
    {{else}}
      {{#with substitute}}
        {{this}}
      {{else}}
        {{#if isWysiwyg}}
          {{wysiwygContent}}
        {{else}}
          {{content}}
        {{/if}}
      {{/with}}
    {{/if}}
  {{/if}}
</template>